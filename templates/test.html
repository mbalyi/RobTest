{% if Exe %}
<div class="navbar-default" role="navigation">
    <div class="sidebar-nav navbar-collapse active" id="fullSize">
        <ul class="nav in">
            <li class="sidebar-search" id="padding-15">
                <div class="custom-search-form">
                    <table id="fullWidth">
                        <tr>
                            <th id="td-10">
                                Test Execution:
                            </th>
                            <th id="td-60">
                                <select class="executionSelector form-control" id="fullWidth" onchange="selectOtherExe()">
                                {% for k in Exe %}
                                    <option data-dbid='{{k[0]}}'>{{k[1]}} ({{k[3]}})</option>
                                {% endfor %}
                                </select>
                            </th>
                            <th id="td-30">
                            </th>
                        </tr>
                    </table>
                </div>
            </li>
        </ul>
    </div>
</div>
<div id="fullHeight">
<!-- /.panel-heading -->
<div class="panel-body panel-test" id="testBody">
    <div class='setup col-md-3' id="fullHeight">
        <div class='col-md-12-set' id='fullHeight'></div>
    </div><div class='col-md-9' id='test-col-md-9'></div>
</div>
<!-- /.panel-body -->
</div>
{% endif %}

{% if loadTest %}
<div style="width:100%;height:100%;overflow-y: auto;">
    <table>
        <tr style='width:100%;'>
            <th style='width:2%;'></th>
            <th style='width:2%;'>ID</th>
            <th style='width:50%;'>Title</th>
            <th style='width:20%;'>Result</th>
            <th style='width:18%;'>History</th>
            <th style='width:8%;'>Duration</th>
        </tr>
        {% for k in loadTest %}
        <tr class='caseMain'  id='{{k[2]}}' data-index='{{loop.index}}' style='width:100%;'>
            <td class='caseMarker' id='{{k[2]}}' style='width:2%;color:red;'></td>
            <td style='width:2%;'>
                <a href='#' class='caseInExe'  id='{{k[2]}}' data-dbid='{{k[2]}}' data-index='{{loop.index}}'>
                    {{loop.index}}
                </a>
            </td>
            <td style='width:50%;'>
                <a href='#' class='caseInExe' data-dbid='{{k[2]}}' data-index='{{loop.index}}' id='{{k[2]}}'>
                    {{k[4]}}
                </a>
            </td>
            <td style='width:20%;'>
                <a href='#' class='caseInExe' data-dbid='{{k[2]}}' data-index='{{loop.index}}' id='{{k[2]}}'>
                    <p class='Res' id='{{k[2]}}'>
                        {% if k[3] == "RUN" %}
                            <span class='glyphicon glyphicon-ok-circle' style='color:#5cb85c;'></span>
                        {% endif %}
                        {% if k[3] == "FAILED" %}
                            <span class='glyphicon glyphicon-remove-circle' style='color:#d9534f;'></span>
                        {% endif %}
                        {% if k[3] == "NOTRUN" %}
                            {{k[3]}}
                        {% endif %}
                        {% if k[3] == "SKIPPED" %}
                            <span class='glyphicon glyphicon-warning-sign' style='color:#f0ad4e;'></span>
                        {% endif %}
                        {% if k[3] == "NOTIMP" %}
                            <span class='glyphicon glyphicon-ban-circle' style='color:#5bc0de;'></span>
                        {% endif %}
                    </p>
                </a>
            </td>
            <td style='width:18%;'>
                <a href='#' class='caseInExe' data-dbid='{{k[2]}}' data-index='{{loop.index}}' id='{{k[2]}}'>

                </a>
            </td>
            <td style='width:8%;'>
                <a href='#' class='caseInExe' data-dbid='{{k[0]}}' data-index='{{loop.index}}' id='{{k[2]}}'>
                    {{k[5]}}
                </a>
            </td>
        </tr>
        {% endfor %}	
    </table>
</div>
{% endif %}

{% if step %}
<div style="width:100%;height:100%;">
    <table style='width:100%;'>
        <tr style='width:100%;'>
            <th style='width:2%;'></th>
            <th style='width:2%;'>ID</th>
            <th style='width:35%;'>Description</th>
            <th style='width:31%;'>Result</th>
            <th style='width:5%;'>Result</th>
            <th style='width:5%;'>File</th>
            <th style='width:10%;'>Comment</th>
            <th style='width:10%;'>Variables</th>
        </tr>
    </table>
    <div class='stepHolder' style="width:100%;height:calc(100% - 42px);overflow-y: auto;">
    {% for k in step %}
        <table data-stepMarkerId='{{k[0][0]}}' style='width:100%;' class="table table-hover">
            <tr style='width:100%;'>
                <td id='{{k[0][0]}}' class='stepMarker' data-dbid='{{k[0][0]}}' style='color:red;width:2%;'></td>
                <td class='Step' data-dbid='{{k[0][0]}}' style='width:2%;'>
                    <a href='#' class='Step' data-dbid='{{k[0][0]}}' >{{loop.index}}</a>
                </td>
                <td class='Step' data-dbid='{{k[0][0]}}' style='width:35%;'>
                    <a href='#' class='Step' data-dbid='{{k[0][0]}}' >{{k[0][1]|safe}}</a>
                </td>
                <td class='Step' data-dbid='{{k[0][0]}}' style='width:31%;'>
                    <a href='#' class='Step' data-dbid='{{k[0][0]}}' >{{k[0][2]|safe}}</a>
                </td>
                <td data-dbid='{{k[0][0]}}' id='{{k[0][0]}}' style='width:5%;padding-left: 12px;'>
                    <a href='#' class='Result' data-dbid='{{k[0][0]}}' id='{{k[0][0]}}'>
                        {% if k[1][0] == "RUN" %}
                            <span class='glyphicon glyphicon-ok-circle' style='color:#5cb85c;'></span>
                        {% endif %}
                        {% if k[1][0] == "FAILED" %}
                            <span class='glyphicon glyphicon-remove-circle' style='color:#d9534f;'></span>
                        {% endif %}
                        {% if k[1][0] == "NOTRUN" %}
                            {{k[1][0]}}
                        {% endif %}
                        {% if k[1][0] == "SKIPPED" %}
                            <span class='glyphicon glyphicon-warning-sign' style='color:#f0ad4e;'></span>
                        {% endif %}
                        {% if k[1][0] == "NOTIMP" %}
                            <span class='glyphicon glyphicon-ban-circle' style='color:#5bc0de;'></span>
                        {% endif %}
                    </a>
                </td>
                <td class="Step" data-dbid='{{k[0][0]}}' style='width:5%;padding-left: 12px;'>
                    <button type="button" class="btn btn-default btn-xs" onclick="fileUploadTest({{k[0][0]}})" data-popname="uploadPop" data-dbid='{{k[0][0]}}' data-toggle="popover" data-placement="bottom" data-title='Upload: '>
                        <span class="glyphicon glyphicon-cloud-upload"></span>
                    </button>
                </td>
                <td class='Step' data-dbid='{{k[0][0]}}' style='width:10%;padding-left: 15px;'>
                    <a href='#' class='Step' data-comment='comment' data-dbid='{{k[0][0]}}' data-popname="stepPop" data-toggle="popover" data-placement="bottom" data-title='Comment: ' onclick="addComment({{k[0][0]}})">{{k[1][1]}}</a>
                </td>
                <td class='Step' data-dbid='{{k[0][0]}}' style='width:10%;padding-left: 15px;'>
                    <a href='#' class='Step' data-var='variable' data-dbid='{{k[0][0]}}' data-toggle="modal" data-target="#resultModal{{exeId}}-{{k[0][0]}}">Variable</a>
                </td>
            </tr>
        </table>
    {% endfor %}
    </div>
    <table class='testButtons'>
        <tr>
            <td>
                Case: &nbsp
            </td>
            <td>
                <a class='btn btn-default btn-xs' href='#' role='button' id='BACKCASE'>Back</a> &nbsp
            </td>
            <td>
                <a class='btn btn-default btn-xs' href='#' role='button' id='NEXTCASE'>Next</a> &nbsp
            </td>
            <td>
                Step: &nbsp
            </td>
            <td>
                <a class='btn btn-default btn-xs' href='#' role='button' id='BACK'>Back</a> &nbsp
            </td>
            <td>
                <a class='btn btn-default btn-xs' href='#' role='button' id='NEXT'>Next</a> &nbsp
            </td>
            <td>
                <a class='btn btn-default btn-xs' href='#' role='button' id='RUN'>RUN</a> &nbsp
            </td>
            <td>
                <a class='btn btn-default btn-xs' href='#' role='button' id='NOTRUN'>NOTRUN</a> &nbsp 
            </td>
            <td>
                <a class='btn btn-default btn-xs' href='#' role='button' id='FAILED'>FAILED</a> &nbsp
            </td>
            <td>
                <a class='btn btn-default btn-xs' href='#' role='button' id='NOTIMP'>NOTIMP</a> &nbsp
            </td>
            <td>
                <a class='btn btn-default btn-xs' href='#' role='button' id='SKIPPED'>SKIPPED</a> &nbsp
            </td>
        </tr>
    </table>
</div>
{% endif %}

{% if status %}
    {% if status == "FAILED" %}
        <span class='glyphicon glyphicon-remove-circle' style='color:#d9534f;'></span>
    {% endif %}
    {% if status == "RUN" %}
        <span class='glyphicon glyphicon-ok-circle' style='color:#5cb85c;'></span>
    {% endif %}
    {% if status == "NOTRUN" %}
        {{status}}
    {% endif %}
    {% if status == "SKIPPED" %}
        <span class='glyphicon glyphicon-warning-sign' style='color:#f0ad4e;'></span>
    {% endif %}
    {% if status == "NOTIMP" %}
        <span class='glyphicon glyphicon-ban-circle' style='color:#5bc0de;'></span>
    {% endif %}
{% endif %}

{% if modalSteps %}
<div class="modal fade bs-example-modal-lg" id="resultModal{{modalSteps[1]}}-{{modalSteps[0]}}" data-exeid='{{modalSteps[1]}}' data-stepid='{{modalSteps[0]}}' tabindex="-1" role="dialog" aria-labelledby="modalLabel">
  <div class="modal-dialog">
    <div class="modal-content">
        <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
            <h4 class="modal-title" id="gridSystemModalLabel" style="float:left;">Variables for ({{modalSteps[0]}}) this step..</h4>
            
            <button type="button" class="btn btn-warning btn-sm" onclick="clearAllValue({{modalSteps[1]}},{{modalSteps[0]}})" style="float:right;margin-right: 5px;">Clear All</button>
            <button type="button" class="btn btn-info btn-sm" onclick="sendAllValue({{modalSteps[1]}},{{modalSteps[0]}})" style="float:right;margin-right: 2px;">Send All</button>
            <div style="float:right;" id="insertcirclemodal-{{modalSteps[1]}}-{{modalSteps[0]}}"></div>
        </div>
        <div class="modal-body">
            <table class="table table-hover">
                <tr>
                    <th>#</th>
                    <th>Variable</th>
                    <th>Active</th>
                    <th>Value</th>
                    <th>Send</th>
                    <th>Clear</th>
                </tr>
                {% for var in variables %}
                <tr>
                    <td>
                        {{loop.index}}
                    </td>
                    <td>
                        {{var[0][1]}}
                    </td>
                    <td>
                        {% if var[0][2] == 1 %}
                        <p class="userStatus" data-dbid="{{var[0][0]}}" style="color:#5cb85c;margin:0px;"><span class="slideIcon" style="background-color:#5cb85c;"></span> Active</p>
                        {% else %}
                        <p class="userStatus" data-dbid="{{var[0][0]}}" style="color:#d9534f;margin:0px;"><span class="slideIcon" style="background-color:#d9534f;"></span> Inactive</p>
                        {% endif %}
                    </td>
                    <td class="valueInput" data-varid='{{var[0][0]}}' data-exeid='{{modalSteps[1]}}' data-stepid='{{modalSteps[0]}}'>
                        {% if var[1] == None %}
                        <input type='text' name='variable' placeholder='Value..' class='form-control' data-varid='{{var[0][0]}}' data-exeid='{{modalSteps[1]}}' data-stepid='{{modalSteps[0]}}'>
                        {% else %}
                        <input type='text' name='variable' value='{{var[1][4]}}' placeholder='Value..' class='form-control' data-varid='{{var[0][0]}}' data-exeid='{{modalSteps[1]}}' data-stepid='{{modalSteps[0]}}'>
                        {% endif %}
                    </td>
                    <td>
                        <a href="#" onclick="sendValue({{modalSteps[1]}},{{modalSteps[0]}},{{var[0][0]}})">
                            <span class="glyphicon glyphicon-ok"></span>
                        </a>
                    </td>
                    <td>
                        <a href="#" onclick="clearValue({{modalSteps[1]}},{{modalSteps[0]}},{{var[0][0]}})">
                            <span class="glyphicon glyphicon-minus"></span>
                        </a>
                    </td>
                </tr>
                {% endfor %}
            </table>
        </div>
    </div>
  </div>
</div>
{% endif %}